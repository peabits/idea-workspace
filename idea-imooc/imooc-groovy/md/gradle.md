
# Gradle

Groovy 语法完全兼容 Java，其语句分号是可选的

类和方法默认是 public，只有 public、protected、private，无 default

编译器自动给属性添加 getter/setter 方法，属性可以直接用点号获取

方法中最后一个表达式的值会被作为返回值，因此可以不写 return 语句

== 等同于 equals()，而且不会有 NullPointerException

高效特性：

- asset 语句：在任何地方都可以进行断言操作
- 可选类型定义：相当于弱类型，直接定义 "def + 变量名"，类型可通过后面操作推导出来
- 可选括号：调用方法时，如果有参数，括号可以不写
- 字符串：''、""、'''''' 三种表示形式：单引号就是字符串，双引号可以用 ${} 插入变量，三引号可以进行换行操作
- 集合 API：list 和 map 有更简单的写法
    - list：
        - 定义：def list=\[e1, e2, ...]，默认类型是 ArrayList
        - 使用：
    - map：
        - 定义：def map=\[k1:v1, k2:v2, ...]，默认类型是 LinkedHashMap
        - 使用：map.k1 等价于 map\[k1]
- 闭包：函数闭包

## 类

Groovy 类和 java 类一样，完全可以用标准 java bean 的语法定义一个 Groovy 类。但作为另一种语言，可以使用更 Groovy 的方式定义类，这样的好处是，可以少写一半以上的 javabean 代码。

1. 不需 public 修饰符：如前面所言，Groovy 的默认访问修饰符就是 public，如果 Groovy 类成员需要 public 修饰，则根本不用写它。
2. 不需要类型说明：同样前面也说过，Groovy 也不关心变量和方法参数的具体类型。
3. 不需要 getter/setter 方法：在很多 ide（如 eclipse）早就可以为程序员自动产生 getter/setter 方法了，在 Groovy 中，不需要 getter/setter方 法--所有类成员（如果是默认的 public ）根本不用通过 getter/setter 方法引用它们（当然，如果一定要通过 getter/setter 方法访问成员属性，Groovy 也提供了它们）。
4. 不需要构造函数：不再需要程序员声明任何构造函数，因为实际上只需要两个构造函数（1 个不带参数的默认构造函数，1 个只带一个 map 参数的构造函数--由于是 map 类型，通过这个参数可以构造对象时任意初始化它的成员变量）。
5. 不需要 return：Groovy 中，方法不需要 return 来返回值。
6. 不需要（）：Groovy 中方法调用可以省略（）（构造函数除外）。

## 特性

基本特点：

1. 构建在强大的 Java 语言之上 并添加了从 Python，Ruby 和 Smalltalk 等语言中学到的 诸多特征，例如动态类型转换、闭包和元编程（metaprogramming）支持。
2. 为 Java 开发者提供了现代最流行的编程语言特性，而且学习成本很低（几乎为零）。
3. 支持 DSL（Domain Specific Languages 领域特定语言）和其它简洁的语法，让代码变得易于阅读和维护。
4. 受检查类型异常 (Checked Exception) 也可以不用捕获。
5. Groovy 拥有处理原生类型，面向对象以及一个 Ant DSL，使得创建 Shell Scripts 变得非常简单。
6. 在开发 Web，GUI，数据库或控制台程序时，通过减少框架性代码，大大提高了开发者的效率。
7. 支持单元测试和模拟（对象），可以简化测试。
8. 无缝集成所有已经存在的 Java 对象和类库。
9. 直接编译成 Java 字节码，这样可以在任何使用 Java 的地方 使用 Groovy。
10. 支持函数式编程，不需要 main 函数。
11. 一些新的运算符。
12. 默认导入常用的包。
13. 断言不支持 jvm 的 -ea 参数进行开关。
14. 支持对对象进行布尔求值。
15. 类不支持 default 作用域，且默认作用域为 public。
16. groovy 中基本类型也是对象，可以直接调用对象的方法。

动态类型：

类型对于变量，属性，方法，闭包的参数以及方法的返回类型都是可有可无的，都是在给变量赋值的时候才决定它的类型，不同的类型会在后面用到，任何类型都可以被使用,即使是基本类型 (通过自动包装（autoboxing）). 当需要时，很多类型之间的转换都会自动发生，比如在这些类型之间的转换: 字符串（String），基本类型(如 int) 和类型的包装类 (如 Integer)之间，可以把不同的基本类型添加到同一数组（collections）中。

闭包：

闭包就是可以使用参数的代码片段，每个闭包会被编译成继承 groovy.lang.Closure 类的类，这个类有一个叫 call 方法，通过该方法可以传递参数并调用这个闭包.它们可以访问并修改在闭包创建的范围内的变量，在闭包内创建的变量在闭包被调用的范围内同样可以被引用， 闭包可以保存在变量中并被作为参数传递到方法中。

## 项目

每个构建脚本默认都是一个 project 实例，默认作用域是当前项目

Gradle 项目是兼容 Maven 的，其目录结构与 Maven 一致

